/*
 * Copyright Â© 2017 Vantiv.  ALL RIGHTS RESERVED.
 * eProtect iFrame Java Script API Version: 1.0
 * Includes eProtect-iframe-enhanced-ux.js https://www.vantiv.com
 */
var EnhancedUxUtils=(function(){var k=null;var z=null;var T=null;function i(){var aa=$("#cvv").val();aa=L(aa);var ac=$("#accountNumber").val();ac=L(ac);var ab=V(ac,aa);Y(ab)}function P(ad){var ah;if(window.clipboardData&&window.clipboardData.getData){ah=window.clipboardData.getData("Text")}else{if(ad.originalEvent.clipboardData&&ad.originalEvent.clipboardData.getData){ah=ad.originalEvent.clipboardData.getData("text/plain")}}var ab=A($("#cvv")[0]);var aa=ab+s().length;ah=L(ah);ah=d(ah);var ag=$("#cvv").val();var ac=ag.substring(0,ab)+ah+ag.substring(aa);$("#cvv").val(ac);var af=$("#accountNumber").val();af=L(af);af=d(af);var ae=V(af,ac);Y(ae);return false}function Q(ad,aa){var ab=g(ad);var ac=Z(ab);return E(aa,Math.floor(ac))}function p(ad,aa){var ab=g(ad);var ac=Z(ab);return n(aa,Math.ceil(ac))}function n(ab,aa){if(ab.length>aa){return true}else{return false}}function E(ab,aa){if(ab.length<aa){return true}else{return false}}function Z(aa){var ab={visa:3,mastercard:3,discover:3,amex:4,jcb:3,diners:3};if(aa in ab){return ab[aa]}else{return 3.5}}function f(ab,ad){var ac=new RegExp("^[0-9]{"+ad+"}$");var aa=/^[0-9]+$/.test(ab);return aa}function G(aa,ac){var ab=$("#expDateLabelText");ab.removeClass();if(aa&&ac){ab.addClass("valid")}else{ab.addClass("error-886");ab.addClass("invalid")}}function u(ae){var ac=$("#expYear").val();var ad=ae.target.value;var af=false;if(ac===null||ac===undefined){return}else{if(ad){af=!m(j(ad),F(ac))}}a(af);var aa=new Date();var ab=aa.getFullYear()-2000;G(ac>=ab,af)}function e(ad){var ab=ad.target.value;var ac=$("#expMonth").val();var aa=false;var ae=false;if(ab){aa=!J(F(ab))}if(ac){ae=!m(j(ac),F(ab))}w(aa);a(ae);G(aa,ae)}function m(ae,ac){var aa=new Date();var ad=aa.getMonth()+1;var ab=aa.getFullYear();if(ac>ab){return false}else{if(ac<ab){return true}else{return ae<ad}}}function J(ac){var aa=new Date();var ab=aa.getFullYear();return ac<ab}function v(aa){var ac=$("#ccicon");var ab="fa";if(enhancedUxVersion){ab="fab"}switch(aa){case"amex":ac.removeClass().addClass(ab+" fa-cc-amex fa-lg");break;case"discover":ac.removeClass().addClass(ab+" fa-cc-discover fa-lg");break;case"mastercard":ac.removeClass().addClass(ab+" fa-cc-mastercard fa-lg");break;case"visa":ac.removeClass().addClass(ab+" fa-cc-visa fa-lg");break;case"diners":ac.removeClass().addClass(ab+" fa-cc-diners-club fa-lg");break;case"jcb":ac.removeClass().addClass(ab+" fa-cc-jcb fa-lg");break;default:ac.removeClass().addClass("fa fa-credit-card fa-lg");break}return aa}function D(aa){var ac=$("#accountNumber,#accountNumberLabelBefore,#accountNumberLabelAfter,#accountNumberLabelText");ac.removeClass();$(".numberDiv").attr("class","numberDiv");ac=ac.add($(".numberDiv"));if(aa.length===0){ac.addClass("valid")}else{for(var ab=0;ab<aa.length;ab++){ac.addClass(aa[ab])}ac.addClass("invalid")}}function a(ab){var aa=$("#expMonth,#expDateLabelBefore,#expDateLabelAfter");aa.removeClass();$(".expDateDiv").attr("class","expDateDiv");aa=aa.add($(".expDateDiv"));if(ab){aa.addClass("valid")}else{aa.addClass("error-886");aa.addClass("invalid")}}function w(ab){var aa=$("#expYear,#expDateLabelBefore,#expDateLabelAfter");aa.removeClass();$(".expDateDiv").attr("class","expDateDiv");aa=aa.add($(".expDateDiv"));if(ab){aa.addClass("valid")}else{aa.addClass("error-886");aa.addClass("invalid")}}function Y(aa){var ac=$("#cvv,#cvvLabelBefore,#cvvLabelAfter,#cvvLabelText");ac.removeClass();$(".cvvDiv").attr("class","cvvDiv");ac=ac.add($(".cvvDiv"));if(aa.length===0){ac.addClass("valid")}else{for(var ab=0;ab<aa.length;ab++){ac.addClass(aa[ab])}ac.addClass("invalid")}}function H(ab){if(ab.length>16){return ab}var aa=g(ab);if(aa=="amex"||aa=="diners"){return R(ab)}else{if(aa=="visa"||aa=="mastercard"||aa=="discover"||aa=="jcb"){return x(ab)}else{return ab}}}function R(ab){var aa=4;if(aa<=ab.length){if(ab.charAt(aa)!=" "){ab=ab.slice(0,aa)+" "+ab.slice(aa,ab.length)}}aa=11;if(aa<=ab.length){if(ab.charAt(aa)!=" "){ab=ab.slice(0,aa)+" "+ab.slice(aa,ab.length)}}return ab}function x(ab){var aa=4;while(aa<=ab.length&&aa<15){if(aa<=ab.length){if(ab.charAt(aa)!=" "){ab=ab.slice(0,aa)+" "+ab.slice(aa,ab.length)}}aa=aa+5}return ab}function U(){window.onpageshow=function(aa){c()};$("a.modals").click(function(aa){$(this).modal({fadeDuration:450});return false})}function c(){document.getElementById("accountNumber").value="";document.getElementById("cvv").value="";document.getElementById("expMonth").value="";document.getElementById("expYear").value=""}function N(){if(X()){k=null}}function O(ad){var aa=ad.which||ad.keyCode;if(aa>=96&&aa<=105){aa=aa-48}var ae=$("#accountNumber").val();T=ae;if(X()){aa=k}var af=String.fromCharCode(aa);if(I(af)&&S(ae)){var ab=A(document.getElementById("accountNumber"));ae=ae.substring(0,ab)+af+ae.substring(ab)}if(I(af)||af==" "){ae=L(ae);$("#accountNumber").val(H(ae));var ac=g(ae);v(ac)}N()}function X(){if(navigator&&/android/i.test(navigator.userAgent)){return true}return false}function h(aa){if(X()&&aa.originalEvent&&aa.originalEvent.data){k=aa.originalEvent.data.charCodeAt(0)}}function A(ab){var ac=0;if(document.selection){ab.focus();var aa=document.selection.createRange();aa.moveStart("character",-ab.value.length);ac=aa.text.length}else{if(ab.selectionStart||ab.selectionStart=="0"){ac=ab.selectionStart}}return ac}function S(aa){return aa.length==19&&aa.indexOf(" ")>=0&&z==T}function r(aa){z=$("#accountNumber").val()}function s(){var aa="",ab;if(window.getSelection&&document.activeElement){if(document.activeElement.nodeName=="INPUT"&&document.activeElement.getAttribute("type").toLowerCase()=="text"){ab=document.activeElement;aa=ab.value.substring(ab.selectionStart,ab.selectionEnd)}else{aa=window.getSelection()}}else{if(document.getSelection){aa=document.getSelection()}else{if(document.selection){aa=document.selection.createRange().text}}}return aa}function q(af,ab,ae){var ah=$("#accountNumber").val();ah=L(ah);$("#accountNumber").val(H(ah));var aa=B(ah,ab,ae);D(aa);var ad=g(ah);v(ad);var ac=$("#cvv").val();if(ac){var ag=V(ah,ac);Y(ag)}}function t(ag,ae,ai){var ad;if(window.clipboardData&&window.clipboardData.getData){ad=window.clipboardData.getData("Text")}else{if(ag.originalEvent.clipboardData&&ag.originalEvent.clipboardData.getData){ad=ag.originalEvent.clipboardData.getData("text/plain")}}var ah=A($("#accountNumber")[0]);var ab=ah+s().length;ad=L(ad);ad=d(ad);var ak=$("#accountNumber").val();var al=ak.substring(0,ah)+ad+ak.substring(ab);al=L(al);$("#accountNumber").val(H(al));var aa=B(al,ae,ai);D(aa);var aj=g(al);v(aj);var ac=$("#cvv").val();if(ac){var af=V(al,ac);Y(af)}return false}var o=13;var M=19;function b(aa){aa=(aa+"").split("").reverse();if(!aa.length){return false}var ac=0,ab;for(ab=0;ab<aa.length;ab++){aa[ab]=parseInt(aa[ab]);ac+=ab%2?2*aa[ab]-(aa[ab]>4?9:0):aa[ab]}return(ac%10)==0}function y(ab,aa){return ab.length<aa}function C(ab,aa){return ab.length>aa}function K(aa){var ab=2*aa;if(ab>9){return ab-9}return ab}function j(ac){var ab=/^0(\d)$/;var aa=ab.exec(ac);if(aa!==null){return parseInt(aa[1])}return parseInt(ac)}function F(aa){if(aa.length>2){return parseInt(aa)}return parseInt("20"+aa)}function L(aa){if(aa){return aa.replace(/ /g,"")}else{return""}}function d(aa){if(aa){return aa.replace(/\D/g,"")}else{return""}}function l(aa){obj={isMod10:"error-871",panShort:"error-872",panLong:"error-873",panNotNumeric:"error-874",cvcNotNumeric:"error-881",cvcShort:"error-882",cvcLong:"error-883"};if(obj[aa]){return obj[aa]}else{return""}}function W(ab){var aa=/\D+/;return aa.test(ab)}function g(ac){var ab={visa:/^4/,mastercard:/^(5[1-5]|2[2-7])/,amex:/^3[47]/,jcb:/^35/,diners:/^(30|36|38|39)/,discover:/^(60|6[4,5]|622)/};for(var aa in ab){if(ab[aa].test(ac)){return aa}}return undefined}function I(ab){var aa=/^\d$/;return aa.test(ab)}function B(ae,aa,ab){var ad=[];var ac="";if(W(ae)){ac=l("panNotNumeric");if(ac.length!==0){ad.push(ac)}}if(y(ae,aa)){ac=l("panShort");if(ac.length!==0){ad.push(ac)}return ad}if(C(ae,ab)){ac=l("panLong");if(ac.length!==0){ad.push(ac)}return ad}if(!b(ae)){ac=l("isMod10");if(ac.length!==0){ad.push(ac)}}return ad}function V(ad,aa){var ac=[];var ab="";if(W(aa)){ab=l("cvcNotNumeric");if(ab.length!==0){ac.push(ab)}}if(Q(ad,aa)){ab=l("cvcShort");if(ab.length!==0){ac.push(ab)}return ac}if(p(ad,aa)){ab=l("cvcLong");if(ab.length!==0){ac.push(ab)}}return ac}return{panBlur:q,panPaste:t,panKeyUp:O,panKeyDown:r,panTextInput:h,cvvBlur:i,cvvPaste:P,handleMonthEvent:u,handleYearEvent:e}})();